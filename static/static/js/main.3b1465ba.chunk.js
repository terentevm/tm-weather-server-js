(this["webpackJsonptm-weather-forecast"]=this["webpackJsonptm-weather-forecast"]||[]).push([[0],{67:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),s=n(30),r=(n(67),n(18)),o=n(54),l=n(8),d=n(56),u=n(20),h=n(9),j=n(23),m=n.n(j),b=n(39),p=n(24),f=n(25),v=n(40),O=n.n(v),g=null,x=function(){function e(){Object(p.a)(this,e),this.host=""}return Object(f.a)(e,[{key:"findLocation",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(this.host,"/api/autocomplete/?q=").concat(t.trim()));case 3:if(!(200===(n=e.sent).status&&n.data instanceof Array)){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",[]);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getForecast",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(this.host,"/api/forecast/"),{params:{lat:t.lat,lon:t.lon,limit:t.limit}});case 3:if(n=e.sent,!Object.prototype.hasOwnProperty.call(n.data,"current")){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",[]);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentInfo",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t instanceof Object&&(n.params=t),e.prev=2,e.next=5,O.a.get("".concat(this.host,"/api/current/"),n);case 5:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",[]);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function w(){return null===g&&(g=new x),g}var _="PROCESSING_REQUEST",y="START_REQUEST_LOCATIONS",N="REQUEST_LOCATIONS_SUCCESS",C="REQUEST_LOCATIONS_FAILED",k="SET_COORDINATES",S="SET_LOCATION",T="SET_FORECAST_INFO",E=function(e){return{type:N,payload:e}};function P(){return function(e){e(E([]))}}function D(e){return function(t){t({type:S,payload:e})}}function L(e){return function(t){var n=w();return t({type:_}),console.log("msg from setForecasts func"),console.dir(e),n.getForecast({lat:e.lat,lon:e.lon,limit:7}).then((function(e){t({type:T,payload:e})})).catch((function(e){}))}}var R=n(38),M=n(36),I=n(15),A=n(10),F=n.n(A),z=(F.a.string.isRequired,F.a.string.isRequired,F.a.string.isRequired,F.a.number.isRequired,F.a.number.isRequired,F.a.string,F.a.string,F.a.number,F.a.string,function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(c.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}),B=(n(90),function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"autocomplete_input_btn_icon",children:[Object(a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),H={pageTitle:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b",title:"\u041f\u043e\u0433\u043e\u0434\u0430",search:{placeholder:"\u0413\u043e\u0440\u043e\u0434",loadingPlaceholder:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f..."},locale:n(60).a,weatherDic:{conditions:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f",today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",temp:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430",feelsLike:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a",pressure:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435",wind:"\u0412\u0435\u0442\u0435\u0440",humidity:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",wind_um:"\u043c/\u0441\u0435\u043a",pressure_um:"\u043c\u043c",uvi:"\u0423\u0424"},time:{h:"\u0447",m:"\u043c",min:"\u043c\u0438\u043d"},dayParts:{morning:"\u0423\u0442\u0440\u043e",day:"\u0414\u0435\u043d\u044c",evening:"\u0412\u0435\u0447\u0435\u0440",night:"\u041d\u043e\u0447\u044c"},dayDuration:{duration:"\u0414\u043b\u0438\u043d\u0430 \u0434\u043d\u044f",sunrise:"\u0412\u043e\u0441\u0445\u043e\u0434",sunset:"\u0417\u0430\u043a\u0430\u0442"},forecast:{title:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 7 \u0434\u043d\u0435\u0439"}},q=n(37),V={ru:H,cs:{pageTitle:"Po\u010das\xed",title:"Po\u010das\xed",search:{placeholder:"M\u011bsto",loadingPlaceholder:"Data se na\u010d\xedtaj\xed..."},locale:q.a,weatherDic:{conditions:"Po\u010das\xed",today:"Dnes",temp:"Teplota",feelsLike:"Pocitov\u011b",pressure:"Tlak",wind:"V\xedtr",humidity:"Vlhkost",wind_um:"m/sec",pressure_um:"mm",uvi:"uvi"},time:{h:"h",m:"m",min:"min"},dayParts:{morning:"R\xe1no",day:"Den",evening:"Ve\u010der ",night:"Noc"},dayDuration:{duration:"D\xe9lka dne",sunrise:"V\xfdchod slunce",sunset:"Z\xe1pad slunce"},forecast:{title:"P\u0159edpov\u011b\u010f na 7 dny"}},de:{pageTitle:"Das Wetter",title:"Das Wetter",search:{placeholder:"Stadt",loadingPlaceholder:"Daten werden geladen..."},locale:n(61).a,weatherDic:{conditions:"Wetter",today:"Heute",temp:"Temperatur",feelsLike:"Lust haben auf",pressure:"Druck",wind:"Wind",humidity:"Feuchtigkeit",wind_um:"m/sec",pressure_um:"mm",uvi:"uvi"},time:{h:"uhr",m:"m",min:"min"},dayParts:{morning:"Morgens",day:"Morgens",evening:"Mittags",night:"Abends"},dayDuration:{duration:"Tagesl\xe4nge",sunrise:"Sonnenaufgang",sunset:"Sonnenuntergang"},forecast:{title:"7 Tage Vorhersage"}}},W=[{id:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{id:"cs",text:"\u010de\u0161tina"},{id:"de",text:"Deutsch"}];var U=Object(c.createContext)(function(){var e=function(){if(!window)return W[0];var e=localStorage.getItem("lang")||navigator.language.slice(0,2);return W.find((function(t){return t.id===e}))||W[0]}();return{language:e,dictionary:V[e.id]}}());function Z(e){var t=e.children,n=e.onLangChange,i=Object(c.useContext)(U),s=Object(c.useState)(i.language),r=Object(I.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)(i.dictionary),u=Object(I.a)(d,2),h=u[0],j=u[1],m={language:o,dictionary:h,setLanguage:function(e){!function(e){localStorage.setItem("lang",e.id)}(e),l(e),j(V[e.id]),n(V[e.id])}};return Object(a.jsx)(U.Provider,{value:m,children:t})}var J=function(e){var t=e.searchOnInput,n=e.searchOnClear,i=e.onSelect,s=e.locations,r=Object(c.useState)(""),o=Object(I.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(!0),h=Object(I.a)(u,2),j=h[0],m=h[1],b=Object(c.useRef)(),p=Object(c.useContext)(U).dictionary;z(b,(function(){m(!1)}));var f=!0===j&&s.length>0,v=s.map((function(e,n){return Object(a.jsx)("li",{className:"autocomplete_dropdown_item",onClick:function(n){return a=e,n.stopPropagation(),t(""),d(""),m(!1),void i(a);var a},"data-testid":"ac_dropdown_item_".concat(n),children:"".concat(e.name)},n)}));return Object(a.jsxs)("div",{className:"autocomplete_wrapper",ref:b,children:[Object(a.jsxs)("div",{className:"autocomplete_input_wrapper",role:"search",children:[Object(a.jsx)("input",{"data-testid":"ac_input",type:"text",placeholder:p.search.placeholder,value:l,onChange:function(e){return function(e){t(e.target.value),d(e.target.value),m(!0)}(e)},onFocus:function(){s.length>0&&m(!0)},className:"autocomplete_input"}),Object(a.jsx)("div",{className:"autocomplete_input_btn_wrapper",children:Object(a.jsx)("div",{"data-testid":"ac_input_clear_btn",className:"autocomplete_input_icon",onClick:function(){return d(""),m(!1),void n()},children:Object(a.jsx)(B,{})})})]}),!0===f&&Object(a.jsx)("ul",{"data-testid":"ac_dropdown",className:"autocomplete_dropdown",children:v})]})},Q=function(e){Object(R.a)(n,e);var t=Object(M.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).searchOnInput=function(e){a.setState({search:e});var t,n=a.props.dispatch;"string"===typeof e&&e.trim().length>1?n((t=e.trim(),function(e){return w().findLocation(t).then((function(t){console.dir(t),e(E(t))})).catch((function(){console.dir("error"),e({type:C,payload:[]})}))})):n(P())},a.searchOnClear=function(){a.setState({search:""}),a.props.dispatch(P())},a.listOnSelect=function(e){a.props.dispatch(D(e)),a.props.dispatch(L(e)),a.props.history.push("/")},a.state={search:""},a}return Object(f.a)(n,[{key:"render",value:function(){return Object(a.jsx)(J,{search:this.state.search,searchOnInput:this.searchOnInput,onSelect:this.listOnSelect,searchOnClear:this.searchOnClear,locations:this.props.locationList})}}]),n}(i.a.Component),G=Object(l.b)((function(e){return{locationList:e.weather.locationList}}))(Object(h.f)(Q)),Y=n.p+"static/media/bookmark.2b59ad9b.svg";n(92);var $=Object(l.b)((function(e){return{favoritesCount:e.favorites.all.length}}))((function(e){var t=e.favoritesCount,n=Object(c.useContext)(U).dictionary;return Object(a.jsx)("nav",{className:"app-header px-2 py-2","data-testid":"navbar-top",role:"heading",children:Object(a.jsxs)("div",{className:"row mx-2 w-100 d-flex flex-column flex-md-row",children:[Object(a.jsx)("div",{className:"d-flex flex-shrink-1 flex-row justify-content-start align-items-start",children:Object(a.jsx)("span",{className:"app-header-title ml-2",children:n.title})}),Object(a.jsx)("div",{className:"flex-grow-1 justify-content-start align-items-start ml-2 ml-sm-1 ml-md-2 mr-1 mt-2 mt-sm-2 mt-md-0",children:Object(a.jsxs)("div",{className:"d-flex flex-row align-items-center ",children:[Object(a.jsx)("div",{className:"flex-grow-1",children:Object(a.jsx)(G,{})}),Object(a.jsx)(u.b,{to:"/favorites",children:Object(a.jsxs)("div",{className:"bookmarked",children:[Object(a.jsx)("img",{src:Y,width:"36",height:"36",alt:""}),Object(a.jsx)("span",{className:"bookmarked_count","data-testid":"nav-fv-count",children:t})]})})]})})]})})})),K=(n(93),function(e){var t=e.condClassName,n=e.children,c="card current-card ".concat(t);return Object(a.jsx)("div",{className:c,id:"id_current_weather_layout","data-testid":"w_current_wrapper",children:Object(a.jsx)("div",{className:"card-body card-canvas",children:n})})}),X=function(e){Object(R.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=(this.props||"#fcc603").fill,t=(this.props||"24").width,n=(this.props||"24").height;return!0===this.props.isFavorite?Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 24 24","data-testid":"w_current_svg_favorites",className:"isFavorite",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:e})]}):Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 24 24","data-testid":"w_current_svg_favorites",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z",fill:e})]})}}]),n}(i.a.Component),ee=n.p+"static/media/update.e67ff7be.svg",te=n(22),ne=n(57);function ae(e){return!0===e.processing?Object(a.jsx)("span",{children:Object(a.jsx)("img",{id:"w_current_update_icon",src:ee,alt:"update icon",width:"24",height:"24",className:"processing","data-testid":"w_current_update_icon"})}):""}var ce=function(e){var t=e.location,n=e.dateinfo,c=e.processing,i=e.addToFavorite,s=e.isFavorite,r=e.dic,o="-",l="-",d="-";if(n instanceof Object){var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=60*t.getTimezoneOffset()+60*e;return Object(ne.a)(t,n)}(n.offset);o=Object(te.a)(u,"EEEE",{locale:r.locale}),l=Object(te.a)(u,"dd MMMM yyyy",{locale:r.locale}),d=Object(te.a)(u,"HH:mm",{locale:r.locale})}return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(a.jsxs)("div",{className:"d-flex flex-row justify-content-start align-items-center",children:[Object(a.jsx)("h5",{className:"card-title text-white",id:"w_current_loc_title","data-testid":"w_current_loc_title",children:"".concat(t.name,", ").concat(t.country)}),Object(a.jsx)("span",{id:"w_current_add_to_fav_btn",className:"current_favorite_icon mb-2 ml-2","data-testid":"w_current_add_to_fav_btn",onClick:i,children:Object(a.jsx)(X,{isFavorite:s,fill:"#fcc603",width:"24",height:"24"})})]}),Object(a.jsx)(ae,{processing:c})]}),Object(a.jsx)("h6",{id:"w_current_today_title",className:"card-subtitle mb-2 text-white","data-testid":"w_current_today_title",children:"".concat(r.weatherDic.today," ").concat(o,", ").concat(l,", ").concat(d)})]})},ie=n.p+"static/media/wind.de0551d4.svg",se=n.p+"static/media/humidity.ed3945d2.svg",re=n.p+"static/media/pressure_light.795dd7cb.svg",oe=function(e){var t=e.fact,n=e.cond,c=e.dic,i=e.language,s=n.condition[i.id],r=c.weatherDic;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8",children:Object(a.jsxs)("div",{className:"row mx-0",children:[Object(a.jsxs)("span",{id:"w_current_fact_temp",className:"current_temp text-white","data-testid":"w_current_fact_temp",children:[Math.round(t.temp)," \xb0\u0421"]}),Object(a.jsx)("div",{className:"current_img ml-3",children:Object(a.jsx)("img",{src:n.icon,width:"48",height:"48",alt:""})})]})}),Object(a.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4",children:Object(a.jsxs)("div",{className:"row mx-0 d-flex flex-column justify-content-center mt-2",children:[Object(a.jsx)("span",{id:"w_current_condition",className:"text-white","data-testid":"w_current_condition",children:s}),Object(a.jsxs)("span",{id:"w_current_feels_like",className:"text-white","data-testid":"w_current_feels_like",children:[r.feelsLike," ",Math.round(t.feels_like),"\xb0\u0421"]})]})})]}),Object(a.jsxs)("div",{className:"d-flex flex-row justify-content-between mt-2 addInfo",children:[Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mr-2",children:[Object(a.jsx)("span",{className:"text-white",children:r.wind}),Object(a.jsx)("img",{src:ie,width:"24",height:"24",alt:""}),Object(a.jsxs)("span",{id:"w_current_wind_speed",className:"text-white ml-1","data-testid":"w_current_wind_speed",children:[t.wind_speed," ",r.wind_um]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mr-2",children:[Object(a.jsx)("span",{className:"text-white",children:r.humidity}),Object(a.jsx)("img",{src:se,width:"24",height:"24",alt:"humidity icon"}),Object(a.jsxs)("span",{id:"w_current_humidity",className:"text-white ml-1","data-testid":"w_current_humidity",children:[t.humidity," %"]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mr-2",children:[Object(a.jsx)("span",{className:"text-white",children:r.pressure}),Object(a.jsx)("img",{src:re,width:"24",height:"24",alt:"pressure icon"}),Object(a.jsxs)("span",{id:"w_current_pressure_mm",className:"text-white ml-1","data-testid":"w_current_pressure_mm",children:[t.pressure_mm," ",r.pressure_um]})]})]})]})},le=n.p+"static/media/clear.4eccead1.svg",de=n.p+"static/media/partly-cloudy.0834d4ae.svg",ue=n.p+"static/media/cloudy.fcffee55.svg",he=n.p+"static/media/overcast.09a2ccb9.svg",je=n.p+"static/media/partly-cloudy-and-light-rain.767428d2.svg",me=n.p+"static/media/partly-cloudy-and-rain.b1c4d2b1.svg",be=n.p+"static/media/overcast-and-rain.98a12099.svg",pe=n.p+"static/media/overcast-thunderstorms-with-rain.b98b90e2.svg",fe=n.p+"static/media/overcast-and-wet-snow.a4311d23.svg",ve=n.p+"static/media/partly-cloudy-and-light-snow.d9bf29e4.svg",Oe=n.p+"static/media/overcast-and-snow.b349810c.svg",ge=n.p+"static/media/haze.0d9f5d0f.svg",xe=n.p+"static/media/tornado.2d361135.svg",we=new Map;we.set("clear",{icon:le,condition:{cs:"Jasno",en:"Clear",ru:"\u042f\u0441\u043d\u043e",de:"klar"},getClassName:function(e){return"d"===e?"clear_day":"clear_night"}}),we.set("partly-cloudy",{icon:de,condition:{cs:"Polojasno",en:"Partly cloudy",ru:"\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e",de:"bew\xf6lkt"},getClassName:function(e){return"d"===e?"cloudy_light_day":"cloudy_light_night"}}),we.set("cloudy",{icon:ue,condition:{cs:"Polojasno",en:"Cloudy",ru:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e \u0441 \u043f\u0440\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u044f\u043c\u0438",de:"bew\xf6lkt, manchmal klar"},getClassName:function(e){return"d"===e?"cloudy_day":"cloudy_night"}}),we.set("overcast",{icon:he,condition:{cs:"Zata\u017eeno",en:"Overcast",ru:"\u043f\u0430\u0441\u043c\u0443\u0440\u043d\u043e",de:"bedeckt"},getClassName:function(e){return"d"===e?"overcast":"cloudy_night"}}),we.set("partly-cloudy-and-light-rain",{icon:je,condition:{cs:"Polojasno a slab\xfd d\xe9\u0161\u0165",en:"Partly cloudy and light rain",ru:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0434\u043e\u0436\u0434\u044c",de:"Teilweise bew\xf6lkt und leichter Regen"},getClassName:function(e){return"d"===e?"light_rain_day":"light_rain_night"}}),we.set("partly-cloudy-and-rain",{icon:me,condition:{cs:"Polojasno a  d\xe9\u0161\u0165",en:"Partly cloudy and rain",ru:"\u0414\u043e\u0436\u0434\u044c",de:"Teilweise bew\xf6lkt und Regen"},getClassName:function(e){return"d"===e?"light_rain_day":"light_rain_night"}}),we.set("overcast-and-rain",{icon:be,condition:{cs:"Zata\u017eeno a d\xe9\u0161\u0165",en:"Overcast and rain",ru:"C\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",de:"Bedeckt und Regen"},getClassName:function(e){return"d"===e?"rain_day":"rain_night"}}),we.set("overcast-thunderstorms-with-rain",{icon:pe,condition:{cs:"Siln\xfd d\xe9\u0161\u0165, bou\u0159ka",en:"Overcast thunderstorms and rain",ru:"C\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c, \u0433\u0440\u043e\u0437\u0430",de:"Bedeckte Gewitter und Regen"},getClassName:function(e){return"thunderstorm"}}),we.set("cloudy-and-light-rain",{icon:je,condition:{cs:"Polojasno a slab\xfd d\xe9\u0161\u0165",en:"Partly cloudy and light rain",ru:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0434\u043e\u0436\u0434\u044c",de:"Teilweise bew\xf6lkt und leichter Regen"},getClassName:function(e){return"d"===e?"light_rain_day":"light_rain_night"}}),we.set("overcast-and-light-rain",{icon:me,condition:{cs:"Polojasno a  d\xe9\u0161\u0165",en:"Partly cloudy and rain",ru:"\u0414\u043e\u0436\u0434\u044c",de:"Teilweise bew\xf6lkt und Regen"},getClassName:function(e){return"d"===e?"light_rain_day":"light_rain_night"}}),we.set("cloudy-and-rain",{icon:be,condition:{cs:"Zata\u017eeno a d\xe9\u0161\u0165",en:"Overcast and rain",ru:"C\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",de:"Bedeckt und Regen"},getClassName:function(e){return"d"===e?"rain_day":"rain_night"}}),we.set("overcast-and-wet-snow",{icon:fe,condition:{cs:"D\xe9\u0161\u0165 se sn\u011bhem",en:"Overcast and wet snow",ru:"\u0414\u043e\u0436\u0434\u044c \u0441\u043e \u0441\u043d\u0435\u0433\u043e\u043c",de:"Bedeckter und nasser Schnee"},getClassName:function(e){return"rain_snow"}}),we.set("partly-cloudy-and-light-snow",{icon:ve,condition:{cs:"Polojasno a slab\xfd sn\xedh",en:"Partly cloudy and snow",ru:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0441\u043d\u0435\u0433",de:"Teilweise bew\xf6lkt und Schnee"},getClassName:function(e){return"snow_night"}}),we.set("partly-cloudy-and-snow",{icon:ve,condition:{cs:"Sn\xedh",en:"Snow",ru:"C\u043d\u0435\u0433",de:"Schnee"},getClassName:function(e){return"snow_night"}}),we.set("overcast-and-snow",{icon:Oe,condition:{cs:"Sn\u011b\u017een\xed",en:"Snowfall",ru:"C\u043d\u0435\u0433\u043e\u043f\u0430\u0434",de:"Schneefall"},getClassName:function(e){return"snow_night"}}),we.set("cloudy-and-light-snow",{icon:Oe,condition:{cs:"Sn\u011b\u017een\xed",en:"Snowy",ru:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0441\u043d\u0435\u0433",de:"Schneebedeckt"},getClassName:function(e){return"snow_night"}}),we.set("overcast-and-light-snow",{icon:Oe,condition:{cs:"Sn\u011b\u017een\xed",en:"Snowy",ru:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0441\u043d\u0435\u0433",de:"Schneebedeckt"},getClassName:function(e){return"snow_night"}}),we.set("cloudy-and-snow",{icon:Oe,condition:{cs:"Sn\u011b\u017een\xed",en:"Snow",ru:"C\u043d\u0435\u0433",de:"Schnee"},getClassName:function(e){return"snow_night"}}),we.set("haze",{icon:ge,condition:{cs:"Mlha",en:"Fog",ru:"\u0422\u0443\u043c\u0430\u043d",de:"Nebel"},getClassName:function(e){return"d"===e?"clear_day":"clear_night"}}),we.set("tornado",{icon:xe,condition:{cs:"Torn\xe1do",en:"Tornado",ru:"\u0422\u043e\u0440\u043d\u0430\u0434\u043e",de:"Tornado"},getClassName:function(e){return"d"===e?"overcast":"cloudy_night"}});var _e=we,ye=n(58),Ne=n.n(ye);n(94);function Ce(e){var t=e.forecast,n=e.dic,c=_e.get(t.cond);return Object(a.jsxs)("div",{className:"hour_card",children:[Object(a.jsxs)("div",{className:"text-white",children:[t.hour,n.time.h]}),Object(a.jsxs)("span",{className:"text-white",children:[Math.round(t.temp),"\xb0"]}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:c.icon,width:"24",height:"24",alt:""})})]})}var ke=function(e){var t=e.hourly,n=e.dic,c=function(e){var t=e.text,n=e.className;return Object(a.jsx)("div",{className:n,children:t})},i=c({text:"<",className:"arrow-prev"}),s=c({text:">",className:"arrow-next"});console.log("hourly"),console.dir(t);var r=0,o=t.map((function(e){return r++,Object(a.jsx)(Ce,{forecast:e,dic:n},"h_".concat(r))}));return Object(a.jsx)("div",{style:{height:"100px"},children:Object(a.jsx)(Ne.a,{data:o,wheel:!1,transition:.3,translate:0,alignCenter:!0,clickWhenDrag:!1,dragging:!0,hideArrows:!0,hideSingleArrow:!0,scrollBy:1,arrowLeft:i,arrowRight:s})})},Se=(n.p,n.p,n.p+"static/media/sunrise.b815e1d1.svg"),Te=n.p+"static/media/sunset.c6fadc9e.svg",Ee=n(59);n(95);var Pe=function(e){var t=e.fact,n=e.dic,c=Object(Ee.a)(),i=Object(I.a)(c,2),s=i[0],r=i[1],o=r?{height:r.width/2}:{},l=n.dayDuration,d=n.time,u=l.duration,h=t.sunrise_hh_mm,j=t.sunset_hh_mm,m=t.day_duration,b=m.h,p=m.m,f="".concat(b," ").concat(d.h," ").concat(p," ").concat(d.min);return Object(a.jsx)("div",{className:"duration-card w-100 px-5",children:Object(a.jsxs)("div",{ref:s,className:"duration-wrapper w-100",children:[Object(a.jsx)("div",{className:"module-border-wrap",style:o,children:Object(a.jsxs)("div",{className:"module",style:o,children:[Object(a.jsx)("span",{className:"duration-title",children:u}),Object(a.jsx)("span",{className:"duration-value",children:f})]})}),Object(a.jsxs)("div",{className:"duration-start-end",children:[Object(a.jsxs)("div",{className:"duration-part-box",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:Se,alt:"sinrise",width:"36px",height:"36px"})}),Object(a.jsx)("span",{children:h})]}),Object(a.jsxs)("div",{className:"duration-part-box",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:Te,alt:"sinrise",width:"36px",height:"36px"})}),Object(a.jsx)("span",{children:j})]})]})]})})},De="ADD_LOCATION_TO_FAVORITES",Le="REMOVE_LOCATION_FROM_FAVORITES";function Re(e,t){return e.findIndex((function(e){return e.name===t.name&&e.country===t.country&&e.region===t.region}))}function Me(e,t){return"sunrise_hh_mm"in e?Object(a.jsx)(Pe,{fact:e,dic:t}):""}var Ie=function(){var e=Object(c.useContext)(U),t=e.dictionary,n=e.language,i=Object(l.d)(),s=Object(l.e)((function(e){return{fact:e.weather.fact,currentHourly:e.weather.currentHourly,location:e.weather.location,favorites:e.favorites.all,processing:e.weather.processing}}),l.c),r=s.fact,o=s.location,d=s.currentHourly,u=s.favorites,h=s.processing,j=_e.get(r.condition),m=j.getClassName(r.day_part),b=-1!==Re(u,o);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"row mx-0",children:Object(a.jsxs)(K,{condClassName:m,children:[Object(a.jsx)(ce,{location:o,dateinfo:r.dateinfo,processing:h,addToFavorite:function(){return i(function(e){return function(t){t({type:De,payload:e})}}(o))},isFavorite:b,dic:t}),Object(a.jsx)(oe,{fact:r,dic:t,language:n,cond:j}),Object(a.jsx)(ke,{hourly:d,dic:t})]})}),Object(a.jsx)("div",{className:"row mx-0",children:Me(r,t)})]})};n(96);var Ae=function(e){var t=e.language,n=e.options,i=e.onChange,s=("dropdown_title_".concat(t.id),Object(c.useState)(!1)),r=Object(I.a)(s,2),o=r[0],l=r[1],d="dropup-content"+(!0===o?" visible":""),u="dropdown_title_icon dropdown_title_icon_".concat(t.id);console.log(u);var h=function(e,t,n){return e.map((function(e){return Object(a.jsx)("a",{href:"#",className:"dropdown_item",onClick:t.bind(null,e),children:e.text})}))}(n,(function(e,t){t.preventDefault(),l(!1),i(e)}));return Object(a.jsxs)("div",{className:"dropup",children:[Object(a.jsxs)("div",{className:"drop-container",children:[Object(a.jsx)("div",{className:u}),Object(a.jsx)("a",{href:"#",className:"dropbtn",onClick:function(e){e.preventDefault(),l(!o)},children:t.text})]}),Object(a.jsx)("div",{className:d,children:h})]})};function Fe(){var e=Object(c.useContext)(U),t=e.language;return Object(a.jsx)(Ae,{language:t,options:W,onChange:function(t){e.setLanguage(t)}})}var ze=function(e){var t=e.children;return Object(a.jsx)("footer",{className:"page-footer","data-testid":"footer",children:t})},Be=(n(97),n(103)),He=function(e){var t=e.forecast,n=e.dic,c=e.language,i=n.weatherDic,s={locale:n.locale},r=Object(Be.a)(t.dt),o=Object(te.a)(r,"EEEE",s);o=o.charAt(0).toUpperCase()+o.slice(1);var l=Object(te.a)(r,"dd.MM",s),d=_e.get(t.condition),u=d.condition[c.id];return Object(a.jsxs)("div",{class:"day-card",children:[" ",Object(a.jsx)("span",{class:"icon",children:Object(a.jsx)("img",{class:"img-fluid",src:d.icon,width:"56",height:"56",alt:""})}),Object(a.jsx)("div",{class:"title",children:Object(a.jsxs)("p",{children:[o," ",l]})}),Object(a.jsxs)("div",{class:"temp",children:[Math.round(t.temp_max),Object(a.jsx)("sup",{children:"\xb0"})]}),Object(a.jsxs)("div",{class:"row",children:[Object(a.jsxs)("div",{class:"col-4",children:[Object(a.jsx)("div",{class:"header",children:i.conditions}),Object(a.jsx)("div",{class:"value",children:u})]}),Object(a.jsxs)("div",{class:"col-4",children:[Object(a.jsx)("div",{class:"header",children:i.humidity}),Object(a.jsxs)("div",{class:"value",children:[t.humidity,"%"]})]}),Object(a.jsxs)("div",{class:"col-4",children:[Object(a.jsx)("div",{class:"header",children:i.wind}),Object(a.jsxs)("div",{class:"value",children:[t.wind_speed," ",i.wind_um]})]})]})]})},qe=function(){var e=Object(c.useContext)(U),t=e.dictionary,n=e.language,i=Object(l.e)((function(e){return{forecasts:e.weather.forecasts}}),l.c).forecasts.map((function(e){return Object(a.jsx)(He,{forecast:e,dic:t,language:n},e.dt)}));return Object(a.jsx)("div",{"data-testid":"fc_mobile_wrapper",children:i})},Ve=function(e){var t=e.message;return Object(a.jsx)("div",{className:"alert alert-primary",role:"alert",children:t})};var We=function(){var e=Object(l.e)((function(e){return e.weather.location}),l.c),t=Object(c.useContext)(U).dictionary;return e?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 px-0",children:Object(a.jsx)(Ie,{})}),Object(a.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 px-0 px-sm-1 mt-2 mt-md-0",children:Object(a.jsx)(qe,{className:"d-block d-sm-none"})})]}),Object(a.jsx)(ze,{children:Object(a.jsx)(Fe,{})})]}):Object(a.jsx)(Ve,{message:t.search.loadingPlaceholder})};n(98);var Ue=function(e){var t=e.showModal,n=e.qParams,c=e.onYes,i=e.onCancel,s=!0===t?"modal bd-example-modal-sm":"modal fade bd-example-modal-sm",r={};return!0===t&&(r.display="block"),Object(a.jsx)("div",{className:s,style:r,id:"staticBackdrop","data-backdrop":"static",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("div",{className:"modal-body",children:n.text}),Object(a.jsxs)("div",{className:"modal-footer py-0",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-success",onClick:c,children:"Ano"}),Object(a.jsx)("button",{type:"button",className:"btn",onClick:i,children:"Zru\u0161en\xed"})]})]})})})};var Ze=Object(l.b)((function(e){return{favorites:e.favorites.all}}))(Object(h.f)((function(e){var t=Object(c.useState)(!1),n=Object(I.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)({text:"",subj:null}),o=Object(I.a)(r,2),l=o[0],d=o[1],h=e.favorites,j=e.dispatch,m=function(){d({text:"",subj:null}),s(!1)},b=function(){var e;j((e=l.subj,console.log("removing..."),console.dir(e),function(t){t({type:Le,payload:e})})),m()},p=0,f=h.map((function(t){return p+=1,Object(a.jsxs)("div",{className:"card favorites_item",onClick:function(){return n=t,e.dispatch(D(n)),e.dispatch(L(n)),void e.history.push("/");var n},children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"mr-2 close",onClick:function(e){return function(e,t){e.stopPropagation();var n="Do you want to remove ".concat(t.name," from favorites?");d({text:n,subj:t}),s(!0)}(e,t)},children:Object(a.jsx)("span",{className:"text-white",children:"\xd7"})})}),Object(a.jsxs)("div",{className:"card-body pt-0",children:[Object(a.jsx)("h5",{className:"card-title text-white",children:t.name}),Object(a.jsx)("h6",{className:"card-subtitle mb-2 text-white",children:"".concat(t.country,", ").concat(t.region)})]})]},"fav_item_".concat(p))})),v=null;return 0===h.length&&(v=Object(a.jsxs)("div",{className:"alert alert-warning",role:"alert",children:["Jejda, zd\xe1 se, \u017ee nem\xe1te vybran\xe1 m\xedsta!",Object(a.jsx)(u.b,{to:"/",children:"P\u0159ejd\u011bte na domovskou str\xe1nku"}),"a zjist\u011bte p\u0159edpov\u011b\u010f po\u010das\xed ve va\u0161em obl\xedben\xe9m m\u011bst\u011b!"]})),Object(a.jsxs)("div",{className:"container mt-2 h-100",children:[v,Object(a.jsx)("div",{className:"favorites_row",children:f}),Object(a.jsx)(Ue,{showModal:!0===i,qParams:l,onCancel:function(){m()},onYes:function(){return b()}})]})})));function Je(e){var t=e.pageTitle;document.title=t}var Qe=function(){var e=Object(c.useContext)(U).dictionary;Object(c.useEffect)((function(){Je(e)}),[e]);var t=Object(l.e)((function(e){return e.weather.location}),l.c),n=Object(l.d)();return t||n((function(e){return w().getCurrentInfo().then((function(t){e(L(t)),e({type:S,payload:t})}))})),Object(a.jsx)(Z,{onLangChange:Je,children:Object(a.jsx)("div",{className:"container-fluid app-container px-0",children:Object(a.jsxs)(u.a,{children:[Object(a.jsx)($,{}),Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{exact:!0,path:"/",component:We}),Object(a.jsx)(h.a,{path:"/favorites",component:Ze})]})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=n(26),Ye=n(13),$e={coordinates:{lat:null,lon:null},localeOptions:{locale:q.a},processing:!1,locationList:[],location:null,info:null,fact:{temp:-0,feels_like:-0,condition:"cloudy",wind_speed:-1,pressure_mm:0,humidity:0,hourly:[]},currentHourly:[],current:null,forecasts:[],fcSelected:null},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(Ye.a)(Object(Ye.a)({},e),{},{processing:!0});case y:return e;case N:return Object(Ye.a)(Object(Ye.a)({},e),{},{locationList:t.payload});case C:return e;case S:return Object(Ye.a)(Object(Ye.a)({},e),{},{location:t.payload});case k:return Object(Ye.a)(Object(Ye.a)({},e),{},{coordinates:t.payload});case T:return Object(Ye.a)(Object(Ye.a)({},e),{},{processing:!1,info:t.payload.info,fact:t.payload.current,currentHourly:t.payload.current.hourly,forecasts:Object(Ge.a)(t.payload.daily)});default:return e}},Xe={all:[]};var et=Object(r.combineReducers)({weather:Ke,favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return-1===Re(e.all,t.payload)?Object(Ye.a)(Object(Ye.a)({},e),{},{all:[].concat(Object(Ge.a)(e.all),[t.payload])}):e;case Le:var n=Re(e.all,t.payload);return-1===n?this.state:{all:[].concat(Object(Ge.a)(e.all.slice(0,n)),Object(Ge.a)(e.all.slice(n+1)))};default:return e}}}),tt=Object(r.createStore)(et,Object(o.composeWithDevTools)(Object(r.applyMiddleware)(d.a)));Object(s.render)(Object(a.jsx)(l.a,{store:tt,children:Object(a.jsx)(Qe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[99,1,2]]]);
//# sourceMappingURL=main.3b1465ba.chunk.js.map